<br />

# Lego Girl Scout Arm Code
Welcome to the Lego Girl Scout Code repository.  The arm we created runs on the FIRST Tech Challenge framework in the REV Control Hub.  The code written for this project, and that should be written for future iterations, can be found in FTCRobotController/TeamCode/src/main/java/org/firstinspires/ftc/teamcode/Salute.java
Currently, the arm runs manually via an Xbox controller, and this README aims to show how to set that up.  

## Electronics
Once the arm is fully built, you can connect the actuators to the REV Control hub, the computer running the arm.  The arm is the right arm, so future instructions will refer to that.  First, connect the power cables of the HD Hex Motors to the rev control hub.  The power cables are long red and black wires with white connectors on the end.  They will plug into the backs of the HD Hex Motors in the 2-pin ports, and they will snap into place.  The front motor (the girl scout's front) should plug into motor port zero, and the back motor should plug into motor port one.  These motors also require four wire encoder wires to work.  These wires are red, blue, white, and black, and have four inline connectors at the end.  They should plug into the backs of the motors (on the opposite side to where the motor power cables are plugged in) and should plug in right next to where their respective motor's power cables are plugged in.  The ports are one way on these.  Finally, the servos must be connected.  First, plug in the elbow servo with a long, three-wire PWM cable.  The pwm cable has rectangular black connectors on the ends and has a red, black, and white wire.  The white wire should be plugged in with the yellow wire on the servo side, with red corresponding to red and black corresponding to brown.  On the control hub side, the wire should be plugged into port zero, with the black wire on the left, the red wire in the middle, and the white wire on the right if you are looking at the control hub right side up.  Finally, the hand servo should follow a similar process.  On the servo side, the white should go to the white wire of the 3-wire extension cable, and the two black wires should plug into the red and black.  In the same orientation as before, plug the female side of the extension cable into port one.
Finally, we need to turn on the robot.  To turn on the robot, connect the battery to the yellow port on the control hub.

## Connecting to and Configuring the REV Control Hub
To connect to and configure the REV Control Hub, you need to have an Android Device.  First, download FTCDriverStation-release.apk and FTCRobotController-release.apk onto your Android device.  They can both be found in this GitHub repository.  Open both of them on the device to install the FTCDriverStation and FTCRobotController Apps (if you need to, watch this video on how to install apps with a .apk file: https://www.youtube.com/watch?v=N0M4XGkpCn4).  NOTE - this must be done on an ANDROID Device, not Apple.  Once this is complete, you can power on your REV Control Hub by connecting the battery.  A wifi network will appear named FTC-XXXX.  Connect to this network (the password is "password"), and open the FTC Driver Station app.  You should see some battery information and information that indicates that the phone is connected to the Hub.  
Now to configure the robot, tap on the three dots at the top right of the screen, and then tap on "Configure Robot".  Following this, click on the "new" button in the top left.  Tap on "Rev Control Hub" and "Control Hub" (NOTE - your control hub may not say exactly these words, but there should be some indicator that references your control hub, and for this project, there should only ever be one name to click on).  Here is where you are going to add the motors and servos so the robot knows what to power to make the arm salute.  
First, tap on "motors".  There should be a list of the available motor ports in the control hub.  For both Port 0 and Port 1, tap on the drop down menu and scroll down until you find "HD Hex Motor".  Select this option for both ports.  Set the Motor name of Port 0 to "fm" by tapping on the text box under the drop-down menu for Port 0.  Set the Motor name of Port 1 to "bm".  THESE ARE CASE-SENSITIVE.  Press "Done" in the top left corner.  
Now, we will configure the servos.  Tap on the "Servos" button.  In a similar process to the motors, tap on the drop-down menus for Ports 0 and 1 and select "Servo".  Set the name of Port 0 to "elbow" and the name of Port 1 to "hand".  THESE ARE CASE-SENSITIVE.
All that is left to do is to save the configuration.  Press the "Done" button in the top left until a "Save" button pops up instead.  Save the configuration and when prompted for a name, name it "GS_Arm".  Once saved, press the "Activate" button under the configuration labeled "GS_Arm".  Press the back button on your Android device to return to the main menu of the FTC Driver Station App.  Your robot is now configured.  For a visual about navigating the process of configuring the arm, watch this video: https://www.youtube.com/watch?v=VHyKE3B170k.  NOTE - they do not configure our arm, but use this video as a visual guide on how to navigate the menus as described in these instructions.

## Deploying Code to the Robot
To flash code to the hub, first download the full FTCRobotController folder from this repository.  Then, download the Android Studio IDE from this link: https://developer.android.com/studio.  This allows you to edit code and deploy it to the robot.  Once you have downloaded and set up Android Studio on your computer, open the FTCRobotController folder on Android Studio.  Any code you would like to write or modify needs to be in the FTCRobotController/TeamCode/src/main/java/org/firstinspires/ftc/teamcode folder.  To deploy the code you have written, plug your computer into the USB-C port on the back of the REV Control Hub.  Note, to flash code, the hub needs to be ON.  You can tell if it is on if there is an LED on the hub showing either solid blue or solid green.  Once the hub has connected to your computer, the hub LED will show green, and at the top middle of Android Studio, the name of the hub appears in a drop-down menu next to a play button.  Press the play button (or replay button for future deployments) to deploy the code.  The LED will blink blue rapidly during deploying, and the deploying will be complete if no errors show up in Android Studio and the LED shows solid green.

## Running the Robot
Now that the Electronics have been connected, the robot is connected and configured, and the code has been deployed, we can run the robot.  To run the robot, you will need an Xbox controller.  Connect your Xbox controller to your phone with the FTCDriverStation app and that is currently connected to your robot, either with a cable or via bluetooth. To make the FTCDriverStation app recognize the Xbox controller, press the start button (3 lines button) and the A button on your connected controller.  In the FTCDriverStation app, you should see two downward-facing white triangles.  Tap on the triangle on the right and a drop-down menu will appear.  Tap on the option labeled "Salute".  Press the Init button in the middle of the screen to initialize the robot.  A play button will appear in the middle of the screen.  Before pressing the play button, down "Enabling" or something to that effect to let people know you are about to run the robot.  Press the play button to run the robot.
You can now control the robot using the connected controller.  Here are the list of buttons you can press to perform certain actions:
Press Y - Raise the arm
Press A - Lower the arm
Press rb - Make the arm go to the "low-five position"
Press and hold x - IF THE ARM IS UP, Wave
Press B - Lower the arm and stop the program
You can also stop the program by pressing the stop button that appears on the phone.
